:ruby
	@items = [@item] if @item

	if @items
		timestamps = []

		timestamps = @items.map do |item|
			if item["source"] == "sleep_cycle"
				ts_start = item["created_at"] - item["data"]["duration"].to_i
				ts_end = item["created_at"]
			else
				ts_start = item["created_at"]
				ts_end = ts_start + (3 * 60)
			end

			[ts_start.to_s, ts_end.to_s]
		end
	end

:javascript
	var timeline_dates = #{timestamps || []};
